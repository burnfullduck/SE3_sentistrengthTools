## 第十次会议纪要

时间：2023年4月1日08：30		地点：第二食堂

本次会议目的：继续完成考前的最后一部分内容，以及准备写各种文档，以及为重构为Spring Cloud项目做好准备。

### 1 任务详细分析

#### 1.1 运行代码

1. 使用SentiStrength，分析助教提供的的软工文本和社交文本的情绪，并对比二者在情绪表达上的不同（必选）
2. 自行提供更多的软工文本和社交文本，并尝试对其分析，观察能否有更多发现。（核心不是新数据集的数量，而是分析结果的差异）（可选）
3. 提交要求：
   1. 将此步骤产物放在文档项目的 “迭代二/助教数据分析” 目录中。
   2. 文本情绪结果请保存为 csv 文件（软工文本.csv ； 社交文本.csv），第⼀列为序号，第二列为文本，第三列为sentistrength 的 trinary 分析结果。请不要打乱文本顺序！
   3. 分析报告保存为 “迭代二/助教数据分析/report.md” 。
   4. 如果提供了更多数据，请保存到 “迭代二/小组数据分析” 目录中，同样分为两个文件。第⼀列为序号，第二列为文本，第三列为sentistrength 的分析结果，第四列为文本来源。同时在 “迭代二/小组数据分析/report.md” 提供报告。


注意：迭代二中的所有代码变更不应影响SentiStrength 的分析结果！


#### 1.2 CheckStyle

- checkstyle报告的提交要求
     1. 使用命令行进行检查。不要求加入 CICD 步骤。
     2. checkstyle使用的扫描规则可以是sun规则、google规则、自定义规则中的任何一种，每次提交的规则保持一致。
     3. 至少需要三次报告。
     4. 中间选择小组成员一致认为比较重要一次commit对应的checkstyle报告提交。
     5. Checkstyle若干次报告提交不要集中在一天或几天要求。
     7. 最终代码是小组一致认为不在进行修改的代码（可以是没有问题、可以是有问题但是时间不足等）。
- checkstyle报告的展示与分析要求
     1. 在gitlab中提交的checkstyle的报告之间的差异，比如：第一次提交与第二次提交的报告之间的警告类型、优先级、警告数量等属性差异分析
     2. 统计修改的（closed）、新增的（new）、一直存在的（open）的checkstyle中警告（包括警告的属性、数量等），该内容可以参考 checkstyle工具介绍与使用
     3. 举例说明修改的警告，即原来的警告是怎样的，说明是如何修改的。警告例子不少于5个，且警告例子要有多样性（即覆盖不同类型的规则）
     4. （加分点）举例分析新增的警告，是因为什么原因引起的，为什么修改，或为什么不修改？
     5. （加分点）统计checkstyle漏报的缺陷数量（即checkstyle没有报告但是开发人员是一个缺陷，例如：功能缺陷），并举例分析checkstyle漏报的缺陷产生的原因
     6. （加分点）统计checkstyle工具本身的缺陷数量，并举例分析checkstyle工具本身的缺陷产生的原因
- 本部分输出：（未按照要求提交的小组扣分）
     1. 输出内容：
           1. 不少于3次的checkstyle报告
           2. 至少一份结果统计与分析报告（如果只提交一份，则应该针对第一次和最后一次报告）

     2. 输出位置：迭代二/项目代码分析 目录，分析报告 子目录：
           1. [使用的检查工具名称] 子目录：
           2. [编号] 子目录：每个目录放当次 checkstyle 报告，报告的格式（e.g.，xml，html）均可。

     3. Report.md : 针对第一次和最后一次报告之间结果统计与分析报告，即对报告的分析。
     4. Report. [编号].md：额外的分析报告，可没有。

#### 1.3 代码质量维护（核心要求）

1. 尝试找出系统功能 bug 并修复；（必选）
2. 使用CheckStyle 检查 SentiStrength 源代码，根据检查结果，优化源代码；（必选）
3. 对比CheckStyle 的检查和人工debug 的结果，即哪些问题是小组成员认为存在的，但CheckStyle 未检查出来，以及反之；（必选）
4. 可同时使用其他代码检查工具检查SentiStrength 源代码。若使用其他工具检查，需对比使用工具产出结果和CheckStyle产出结果的不同。（可选）
5. 提交要求：
   1. 此步骤的1、2 部分在各位 git 提交记录中体现，注意各小组成员的分工。
   2. 工具检查报告请导出到 文档 项目的 “迭代二/项目代码分析/分析报告” 目录中，如果使用了多种检查工具，请在目录创建⼦文件夹，如果无法导出pdf、html 报告，请使用markdown + 附图的形式。
   3. 对检查报告的分析保存为 “迭代二/项目代码分析/report.md”，如果小组内认为自己有发现点（例如发现了关键bug、CheckStyle 的结果有问题）请特殊说明，作为项目亮点。
6. 新增：SonarLint、SonarCube使用截图与简单报告、对比。


#### 1.4 代码设计优化（核心要求）

1. 利用设计模式优化，重构代码；重构后需提供设计文档，并在文档中说明设计的逻辑（必选，迭代核心要求）
2. 为SentiStrength 设计UI ,要求可以完成基本GUI 交互，UI 样式可参考官网。（必选）
3. 提交要求：
   1. 文档保存在 “迭代二/项目文档/” 文件夹，请使用 markdown 文件。
   2. 代码优化请注意成员分工、git 提交情况。
      1. 重构 SentiStrength 代码请继续在原始仓库进行
      2. 为SentiStrength 设计的 UI 过程中产生的代码请根据需要新建仓库完成。请尝试使用 jar 包、依赖的形式引用SentiStrength项目，发布参考链接。
      3. UI 要求是基于 web 的页面（注意：请不要在这里花费过多精力），并要求持续构建、持续部署，在助教检查项目时，请确保该页面是可以被访问的。


#### 1.5 总述-检查要求

1. 设计文档与架构文档：
   1. 设计逻辑、设计分层、代码架构
   2. 重构：重构说明文档
   3. 代码风格、代码分析工具
2. 维护质量：
   1. CheckStyle检查，以及Report
   2. 系统功能Bug
3. 其他增量：
   1. CICD、可部署
   2. 数据集
4. 视频：
   1. 介绍迭代二整体完成情况
   2. 5-10 分钟，建议1.25倍速，链接放在迭代二根目录
   3. 如果视频过大、需要提交会议视频等其他大型文件，请以链接的形式提供，并在 “迭代二/readme.md ” 中对这些文件进行说明。



#### 1.6 提交说明

**第一部分**：助教检查会以截至日期前 172.29.4.49 上最后一次提交产物为准。产物包括：

- 前后端代码
- SentiStrength 代码
- 文档仓库中所有内容，包括且不限于：文档、会议记录、Check Style 结果、对结果的分析报告等。

**第二部分**：允许使用其他平台托管代码，迭代二在 CICD 文档中截图说明，迭代三结束将项目公开，在"文档/迭代三/Readme.md“中给出其他平台仓库链接的产物/过程。

- 持续性的 CICD 记录
- 自动化发布 release 的截图（截图时需要显示 release 的链接 => 为了说明每次 release 的链接是唯一的）
- CICD其他提交要求 [参考此贴](https://selearning.nju.edu.cn/mod/forum/discuss.php?d=640)。

**第三部分**：需要迭代二在 CICD 文档中给出，迭代三在"文档/迭代三/Readme.md“中给出，并且助教需要访问检查的内容。

- Jenkins 地址、账号、密码（非服务器账号密码）（仅针对使用 Jenkins 的小组）。
- 为项目设计的 UI 访问地址。
- 项目测试环境的访问地址（仅针对使用 Gitlab Runner 的小组）。



### 2 代码框架

我们的代码架构示意图如下（现在和目标）：



### 3 现状

花一点时间...记录一下各方面工作的现状。

#### 3.1 yqs

Nacos部署完成。微服务架构。SentiStrength加了SpringBoot。GateWay。



#### 3.2 zmy

前后端处理，数据集分析：助教给的两个数据集。

问问其他组：如何分析？



#### 3.3 hcx

前端：翻译API。封装List和Word进Dict包（待改进）。



#### 3.4 xc

重构：test，修BUG。



#### 3.5 zjh

前端：参数配置；Checkstyle；SonarLint、SonarCube；test寄了。



#### 3.6 zxk

Nginx：8086,8088,8090；Docker好像寄了？要重新弄Docker和Runner。





### 4 接下来的分工

| 内容                                                         | 负责                                 | DDL  |
| ------------------------------------------------------------ | ------------------------------------ | ---- |
| Checkstyle，SonarLint相关，数据集相关，相关报告，即1.1-1.3中所有相关内容 | zmy（数据集+报告） zjh（Checkstyle） | 4.19 |
| CICD，持续集成与部署，GitlabRunner；CICD文档                 | zxk                                  | 4.19 |
| 重构SentiStrength：融合现有结果；写重构报告（体现设计思想）  | xc（报告+代码） zjh（代码）          | 4.19 |
| 重构代码架构为微服务：为Senti代码修改端口，将现有的Backend与Senti融合；<br />添加Controller；将前端相关接口重构；Gateway；接口文档； | hcx、zmy（重构代码）  yqs（GateWay） | 4.19 |
| 设计文档、架构文档                                           | yqs、zxk                             | 4.21 |
| 拍摄视频，参照设计文档和架构文档写文案                       | xc（剪） yqs（文案）                 | 4.21 |

