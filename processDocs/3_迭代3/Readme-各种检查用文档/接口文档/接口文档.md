RanbowSix组 接口文档

# 2.  现有接口说明

## 2.1 Controller 微服务

### 2.1.1  文本处理、转发接口

接收并向Senti微服务转发对文本的情绪分析需求，在此过程中可进行统计、打印、绘图等操作，再将情绪分析结果返回给请求方。

#### 请求URL
`http://124.221.102.208/controller/text`

#### 请求方法
**POST**

#### 请求参数

| 参数名 | 位置  | 必填 |  类型  |                  说明                   |
| :----: | :---: | :--: | :----: | :-------------------------------------: |
|  text  | query |  是  | string |           需要分析的情绪文本            |
|  para  | query |  是  | string | sentistrength运行参数，通过页面表单选择 |

#### 请求示例
curl示例: 

`curl http://124.221.102.208/controller/text?text=i+love+you&para=text`

#### 响应格式
| 参数名 | 类型   | 说明                                                         |
| ------ | ------ | ------------------------------------------------------------ |
| data   | string | 文本进行情绪分析之后的结果，包括消极情绪得分和积极情绪得分，以及可选的分类结果 |
#### 响应示例

`{"data" : "-1 2"}`





## 2. 2  SentiStrength微服务



### 2.2.1  文本情绪分析接口

根据给定参数设置，分析给定文本的情绪，将结果返回给请求方。

#### 请求URL

`http://124.221.102.208/senti/text`

#### 请求方法

**POST**

#### 请求参数

| 参数名 | 位置  | 必填 |  类型  |                  说明                   |
| :----: | :---: | :--: | :----: | :-------------------------------------: |
|  text  | query |  是  | string |           需要分析的情绪文本            |
|  para  | query |  是  | string | sentistrength运行参数，通过页面表单选择 |

#### 请求示例

curl示例: 

`curl http://124.221.102.208/senti/text?text=i+love+you&para=text`

#### 响应格式

| 参数名 | 类型   | 说明                                                         |
| ------ | ------ | ------------------------------------------------------------ |
| data   | string | 文本进行情绪分析之后的结果，包括消极情绪得分和积极情绪得分，以及可选的分类结果 |

#### 响应示例

`{"data" : "-1 2"}`



### 2.2.2  文本文件情绪分析接口

根据给定参数设置，分析给定文本文件中的指定位置的文本的情绪，将结果返回给请求方。（仅支持txt文件）

#### 请求URL

`http://124.221.102.208/senti/file`

#### 请求方法

**POST**

#### 请求参数

| 参数名 | 位置  | 必填 |     类型     |                             说明                             |
| :----: | :---: | :--: | :----------: | :----------------------------------------------------------: |
|  file  | query |  是  | MultipleFile |              需要分析的文本文件，仅支持txt格式               |
|  para  | query |  是  |    string    | sentistrength运行参数，通过页面表单选择。可指定要分析的文本在文件的那一列 |

#### 请求示例

curl示例: 

`curl http://124.221.102.208/senti/file?file=@data{...}&para=input`

#### 响应格式

| 参数名 | 类型 | 说明                                                         |
| ------ | ---- | ------------------------------------------------------------ |
| data   | file | 文本进行情绪分析之后的结果，包括消极情绪得分和积极情绪得分，以及可选的分类结果，保存在一个txt文件中 |

#### 响应示例

`{"data" : 0xa98129ab891233124.txt}`



### 2.2.3  文件夹情绪分析接口

根据给定参数设置，分析给定 文件夹中的所有文本文件指定位置的文本的情绪，将结果返回给请求方。（仅支持txt文件）

#### 请求URL

`http://124.221.102.208/senti/fileFolder`

#### 请求方法

**POST**

#### 请求参数

| 参数名 | 位置  | 必填 |     类型     |                             说明                             |
| :----: | :---: | :--: | :----------: | :----------------------------------------------------------: |
| files  | query |  是  | MultipleFile |             需要分析的文本文件夹，仅支持txt格式              |
|  para  | query |  是  |    string    | sentistrength运行参数，通过页面表单选择。可指定要分析的文本在文件的那一列 |

#### 请求示例

curl示例: 

`curl http://124.221.102.208/senti/fileFolder?file=@data{...}&para=input`

#### 响应格式

| 参数名 | 类型 | 说明                                                         |
| ------ | ---- | ------------------------------------------------------------ |
| data   | file | 文本进行情绪分析之后的结果，包括消极情绪得分和积极情绪得分，以及可选的分类结果，保存在一个txt文件中 |

#### 响应示例

`{"data" : [a98129ab891233124.txt, 68a091f8761265.txt]}`





### 2.2.4  文件下载接口

根据文件名将情绪分析结果文件下载到本地的接口。

#### 请求URL

`http://124.221.102.208/senti/downloadFile`

#### 请求方法

**GET**

#### 请求参数

|  参数名  | 位置  | 必填 |  类型  |              说明              |
| :------: | :---: | :--: | :----: | :----------------------------: |
| filePath | query |  是  | String | 需要下载的文件名，通常自动填写 |

#### 请求示例

curl示例: 

`curl http://124.221.102.208/senti/downloaFile?file=@data{...}`

#### 响应格式

| 参数名 | 类型   | 说明                                                         |
| ------ | ------ | ------------------------------------------------------------ |
| data   | file[] | 文件夹中的文本文件进行情绪分析之后的结果，包括消极情绪得分和积极情绪得分，以及可选的分类结果；保存在多个对应的txt文件中 |

#### 响应示例

`{"data" : [a98129ab891233124.txt, 68a091f8761265.txt]}`